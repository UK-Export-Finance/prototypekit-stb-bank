{% extends "govuk-prototype-kit/layouts/govuk-branded.html" %}

{% block pageTitle %}
  There is a problem – {{ serviceName }} – GOV.UK Prototype Kit
{% endblock %}

{% block header %}
{% include "/version1/upload-download/includes/head.html" %}
  <div class="moj-header__container">
    {% include "/includes/phase-banner.html" %}
  </div>
  {% include "/version1/upload-download/includes/primary-nav-nothing-selected.html" %}
{% endblock %}

{% block pageScripts %}
  {% include "includes/scripts.html" %}
{% endblock %}

{% block beforeContent %}
<a class="govuk-back-link" href="upload">Back</a>
{% endblock %}

{% block content %}

<div class="govuk-grid-row">

  <div class="govuk-grid-column-full">
      <h1 class="govuk-heading-l">Check the report</h1>
      <div class="govuk-error-summary" data-module="govuk-error-summary">
          <div role="alert">
            <h2 class="govuk-error-summary__title">
              There is a problem
            </h2>
            <div class="govuk-error-summary__body">
              <ul class="govuk-list govuk-error-summary__list">
                <li>
                  <a href="#error">You must correct the formatting errors before you can upload the report</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
        
        <p class="govuk-body">You can <a href="/public/downloads/errors-test-doc.pdf" class="govuk-link--no-visited-state" target="_blank">create a PDF of the errors (opens in a new window or tab)</a>.</p>

        <div class="govuk-form-group govuk-form-group--error govuk-!-margin-top-7">
          <h2 class="govuk-heading-m" id="error">Errors found in {{ data['file-name'] }}</h2>
          <p id="passport-issued-error" class="govuk-error-message">
              <span class="govuk-visually-hidden">Error:</span> You must correct the formatting errors before you can upload the report
              </p>
              <table class="govuk-table">
                <caption class="govuk-table__caption govuk-table__caption--m"></caption>
                <thead class="govuk-table__head">
                  <tr class="govuk-table__row">
                    <th scope="col" class="govuk-table__header">Exporter</th>
                    <th scope="col" class="govuk-table__header">Row</th>
                    <th scope="col" class="govuk-table__header">Column</th>
                    <th scope="col" class="govuk-table__header">Entry</th>
                    <th scope="col" class="govuk-table__header">Error</th>
                  </tr>
                </thead>
                <tbody class="govuk-table__body">
                  <tr class="govuk-table__row">
                    <td class="govuk-table__cell">{{ data['facility-1-name'] }}</td>
                    <td class="govuk-table__cell">18</td>
                    <td class="govuk-table__cell">F</td>
                    <td class="govuk-table__cell">145,00P</td>
                    <td class="govuk-table__cell"><span class="govuk-error-message govuk-!-margin-bottom-0">Facility utilisation must be a number</span></td>
                  </tr>
                  <!--<tr class="govuk-table__row">
                    <td class="govuk-table__cell">{{ data['facility-2-name'] }}</td>
                    <td class="govuk-table__cell">19</td>
                    <td class="govuk-table__cell">F</td>
                    <td class="govuk-table__cell">99,736,632.56</td>
                    <td class="govuk-table__cell"><span class="govuk-error-message govuk-!-margin-bottom-0">Facility utilisation cannot be more than GBP&nbsp;25&nbsp;million</span></td>
                  </tr>-->
                  <tr class="govuk-table__row">
                    <td class="govuk-table__cell">{{ data['facility-4-name'] }}</td>
                    <td class="govuk-table__cell">20</td>
                    <td class="govuk-table__cell">H</td>
                    <td class="govuk-table__cell"></td>
                    <td class="govuk-table__cell"><span class="govuk-error-message govuk-!-margin-bottom-0">Total fees accrued must have an entry</span></td>
                  </tr>
                  <tr class="govuk-table__row">
                    <td class="govuk-table__cell">{{ data['facility-5-name'] }}</td>
                    <td class="govuk-table__cell">23</td>
                    <td class="govuk-table__cell">J</td>
                    <td class="govuk-table__cell">1e5.67</td>
                    <td class="govuk-table__cell"><span class="govuk-error-message govuk-!-margin-bottom-0">Monthly fees paid to UKEF must be a number</span></td>
                  </tr>
                  <!--<tr class="govuk-table__row">
                    <td class="govuk-table__cell">{{ data['facility-10-name'] }}</td>
                    <td class="govuk-table__cell">24</td>
                    <td class="govuk-table__cell">J</td>
                    <td class="govuk-table__cell">sterling</td>
                    <td class="govuk-table__cell"><span class="govuk-error-message govuk-!-margin-bottom-0">Currency must be a 3 character currency code</span></td>
                  </tr>-->
                </tbody>
              </table>
        </div> 
        
        <div class="govuk-form-group">

          <h2 class="govuk-heading-m">Upload the report again</h2>
          <p class="govuk-body">You can upload the corrected report now or come back later and upload it.</p>
          <input class="govuk-file-upload" id="file-upload-1" name="file-upload-1" type="file" aria-describedby="file-upload-1-hint">
        </div>
        <div class="govuk-form-group">
        <form class="form" action="check-upload" method="get">
          {{ govukButton({
              text: "Continue"
            }) }}
            <!--<input type="hidden" name="report-uploaded" value="success">-->
        </form>
      </div>

  </div>      

</div>

{% endblock %}


